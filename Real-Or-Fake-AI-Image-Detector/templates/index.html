{% extends "base.html" %}
{% block title %}Analyzer - Veritas AI{% endblock %}

{% block content %}
<div class="analyzer-container">
  <div class="analyzer-header">
    <h2>Image Analyzer</h2>
    <p>Upload an image to detect if it was generated by AI.</p>
  </div>

  <!-- Uploader -->
  <div id="uploader" class="uploader-area">
    <div class="uploader-content">
        <div class="upload-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
        </div>
        <p><strong>Drag & drop an image file here</strong> or click to select</p>
        <span class="file-info" id="file-info">No file selected</span>
    </div>
    <div id="preview-container" class="preview-container hidden">
        <img id="image-preview" src="#" alt="Image Preview"/>
    </div>
    <input type="file" id="fileInput" accept="image/*" hidden>
  </div>

  <div class="analyzer-actions">
    <button id="analyzeBtn" class="btn btn-primary btn-lg" disabled>Analyze</button>
  </div>

  <!-- Progress & Status -->
  <div id="progress-section" class="progress-section hidden">
    <div class="status-text" id="status-text">Analyzing...</div>
    <div class="progress-bar-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>
  </div>

  <!-- Result -->
  <div id="result-card" class="result-card hidden">
    <div class="result-header">
      <h3>Analysis Complete</h3>
    </div>
    <div class="result-content">
      <div class="confidence-meter">
        <svg class="confidence-svg" viewBox="0 0 100 100">
          <circle class="meter-bg" cx="50" cy="50" r="45"></circle>
          <circle class="meter-fg" id="confidence-fg" cx="50" cy="50" r="45" pathLength="100"></circle>
        </svg>
        <div class="confidence-text">
          <span id="confidence-percent">0%</span>
          <span>Confidence</span>
        </div>
      </div>
      <div class="result-details">
        <p>This image is likely:</p>
        <h4 id="result-label">...</h4>
      </div>
    </div>
     <div class="result-actions">
        <button id="resetBtn" class="btn btn-secondary">Analyze Another Image</button>
    </div>
  </div>

</div>
{% endblock %}